Feakin
  FkDeclarationImpl(DECLARATION)
    FkImplDeclarationImpl(IMPL_DECLARATION)
      PsiElement(FeakinTokenType.impl)('impl')
      PsiWhiteSpace(' ')
      PsiElement(FeakinTokenType.IDENTIFIER)('CinemaCreated')
      PsiWhiteSpace(' ')
      FkImplBodyImpl(IMPL_BODY)
        PsiElement(FeakinTokenType.{)('{')
        PsiWhiteSpace('\n  ')
        FkEndpointDeclarationImpl(ENDPOINT_DECLARATION)
          PsiElement(FeakinTokenType.endpoint)('endpoint')
          PsiWhiteSpace(' ')
          FkEndpointBodyImpl(ENDPOINT_BODY)
            PsiElement(FeakinTokenType.{)('{')
            PsiWhiteSpace('\n    ')
            FkRequestDeclarationImpl(REQUEST_DECLARATION)
              FkHttpMethodImpl(HTTP_METHOD)
                PsiElement(FeakinTokenType.GET)('GET')
              PsiWhiteSpace(' ')
              FkUriImpl(URI)
                PsiElement(FeakinTokenType.STRING_LITERAL)('"/book/{id}"')
              PsiElement(FeakinTokenType.;)(';')
            PsiWhiteSpace('\n    ')
            PsiElement(FeakinTokenType.authorization)('authorization')
            PsiElement(FeakinTokenType.:)(':')
            PsiWhiteSpace(' ')
            FkAuthorizationTypeImpl(AUTHORIZATION_TYPE)
              PsiElement(FeakinTokenType.IDENTIFIER)('Basic')
            PsiWhiteSpace(' ')
            FkAuthorizationValueImpl(AUTHORIZATION_VALUE)
              PsiElement(FeakinTokenType.IDENTIFIER)('admin')
            PsiWhiteSpace(' ')
            FkAuthorizationValueImpl(AUTHORIZATION_VALUE)
              PsiElement(FeakinTokenType.IDENTIFIER)('admin')
            PsiElement(FeakinTokenType.;)(';')
            PsiWhiteSpace('\n    ')
            FkResponseDeclarationImpl(RESPONSE_DECLARATION)
              PsiElement(FeakinTokenType.response)('response')
              PsiElement(FeakinTokenType.:)(':')
              PsiWhiteSpace(' ')
              FkResponseEntityNameImpl(RESPONSE_ENTITY_NAME)
                PsiElement(FeakinTokenType.IDENTIFIER)('Cinema')
              PsiElement(FeakinTokenType.;)(';')
            PsiWhiteSpace('\n  ')
            PsiElement(FeakinTokenType.})('}')
        PsiWhiteSpace('\n\n  ')
        FkFlowDeclarationImpl(FLOW_DECLARATION)
          PsiElement(FeakinTokenType.flow)('flow')
          PsiWhiteSpace(' ')
          FkFlowBodyImpl(FLOW_BODY)
            PsiElement(FeakinTokenType.{)('{')
            PsiWhiteSpace('\n    ')
            PsiComment(FeakinTokenType.COMMENT)('//')
            PsiWhiteSpace('\n    ')
            FkStepDeclarationImpl(STEP_DECLARATION)
              PsiElement(FeakinTokenType.via)('via')
              PsiWhiteSpace(' ')
              FkObjectNameImpl(OBJECT_NAME)
                PsiElement(FeakinTokenType.IDENTIFIER)('UserRepository')
              PsiElement(FeakinTokenType.::)('::')
              FkViaMethodNameImpl(VIA_METHOD_NAME)
                PsiElement(FeakinTokenType.IDENTIFIER)('getUserById')
              PsiWhiteSpace(' ')
              FkViaMethodDeclarationImpl(VIA_METHOD_DECLARATION)
                PsiElement(FeakinTokenType.receive)('receive')
                PsiWhiteSpace(' ')
                FkObjectNameImpl(OBJECT_NAME)
                  PsiElement(FeakinTokenType.IDENTIFIER)('user')
                PsiElement(FeakinTokenType.:)(':')
                PsiWhiteSpace(' ')
                FkViaMethodNameImpl(VIA_METHOD_NAME)
                  PsiElement(FeakinTokenType.IDENTIFIER)('User')
            PsiWhiteSpace('\n    ')
            PsiComment(FeakinTokenType.COMMENT)('//')
            PsiWhiteSpace('\n    ')
            FkStepDeclarationImpl(STEP_DECLARATION)
              PsiElement(FeakinTokenType.via)('via')
              PsiWhiteSpace(' ')
              FkObjectNameImpl(OBJECT_NAME)
                PsiElement(FeakinTokenType.IDENTIFIER)('UserRepository')
              PsiElement(FeakinTokenType.::)('::')
              FkViaMethodNameImpl(VIA_METHOD_NAME)
                PsiElement(FeakinTokenType.IDENTIFIER)('save')
              FkParametersImpl(PARAMETERS)
                PsiElement(FeakinTokenType.()('(')
                FkParameterImpl(PARAMETER)
                  PsiElement(FeakinTokenType.IDENTIFIER)('user')
                  PsiElement(FeakinTokenType.:)(':')
                  PsiWhiteSpace(' ')
                  FkParamTypeImpl(PARAM_TYPE)
                    PsiElement(FeakinTokenType.IDENTIFIER)('User')
                PsiElement(FeakinTokenType.))(')')
              PsiWhiteSpace(' ')
              FkViaMethodDeclarationImpl(VIA_METHOD_DECLARATION)
                PsiElement(FeakinTokenType.receive)('receive')
                PsiWhiteSpace(' ')
                FkObjectNameImpl(OBJECT_NAME)
                  PsiElement(FeakinTokenType.IDENTIFIER)('user')
                PsiElement(FeakinTokenType.:)(':')
                PsiWhiteSpace(' ')
                FkViaMethodNameImpl(VIA_METHOD_NAME)
                  PsiElement(FeakinTokenType.IDENTIFIER)('User')
                PsiElement(FeakinTokenType.;)(';')
            PsiWhiteSpace('\n    ')
            PsiComment(FeakinTokenType.COMMENT)('//')
            PsiWhiteSpace('\n    ')
            FkStepDeclarationImpl(STEP_DECLARATION)
              PsiElement(FeakinTokenType.via)('via')
              PsiWhiteSpace(' ')
              FkObjectNameImpl(OBJECT_NAME)
                PsiElement(FeakinTokenType.IDENTIFIER)('MessageQueue')
              PsiWhiteSpace(' ')
              FkViaMessageDeclarationImpl(VIA_MESSAGE_DECLARATION)
                PsiElement(FeakinTokenType.send)('send')
                PsiWhiteSpace(' ')
                FkObjectNameImpl(OBJECT_NAME)
                  PsiElement(FeakinTokenType.IDENTIFIER)('CinemaCreated')
                PsiWhiteSpace(' ')
                PsiElement(FeakinTokenType.to)('to')
                PsiWhiteSpace(' ')
                FkTopicImpl(TOPIC)
                  PsiElement(FeakinTokenType.STRING_LITERAL)('"CinemaCreated"')
            PsiWhiteSpace('\n\n    ')
            FkStepDeclarationImpl(STEP_DECLARATION)
              FkWhenExpressionImpl(WHEN_EXPRESSION)
                PsiElement(FeakinTokenType.when)('when')
                FkWhenBodyImpl(WHEN_BODY)
                  PsiElement(FeakinTokenType.()('(')
                  PsiElement(FeakinTokenType.IDENTIFIER)('isUserValid')
                  PsiElement(FeakinTokenType.))(')')
                  PsiWhiteSpace(' ')
                  PsiElement(FeakinTokenType.{)('{')
                  PsiWhiteSpace('\n      ')
                  FkWhenEntryImpl(WHEN_ENTRY)
                    PsiElement(FeakinTokenType.is)('is')
                    PsiWhiteSpace(' ')
                    FkWhenConditionImpl(WHEN_CONDITION)
                      PsiElement(FeakinTokenType.IDENTIFIER)('true')
                    PsiWhiteSpace(' ')
                    PsiElement(FeakinTokenType.=)('=')
                    PsiElement(FeakinTokenType.>)('>')
                    PsiWhiteSpace(' ')
                    FkWhenEntryBodyImpl(WHEN_ENTRY_BODY)
                      PsiElement(FeakinTokenType.{)('{')
                      PsiWhiteSpace('\n        ')
                      PsiComment(FeakinTokenType.COMMENT)('// do something')
                      PsiWhiteSpace('\n      ')
                      PsiElement(FeakinTokenType.})('}')
                  PsiWhiteSpace('\n      ')
                  FkWhenEntryImpl(WHEN_ENTRY)
                    PsiElement(FeakinTokenType.is)('is')
                    PsiWhiteSpace(' ')
                    FkWhenConditionImpl(WHEN_CONDITION)
                      PsiElement(FeakinTokenType.IDENTIFIER)('false')
                    PsiWhiteSpace(' ')
                    PsiElement(FeakinTokenType.=)('=')
                    PsiElement(FeakinTokenType.>)('>')
                    PsiWhiteSpace(' ')
                    FkWhenEntryBodyImpl(WHEN_ENTRY_BODY)
                      PsiElement(FeakinTokenType.{)('{')
                      PsiWhiteSpace('\n        ')
                      PsiComment(FeakinTokenType.COMMENT)('// do something')
                      PsiWhiteSpace('\n      ')
                      PsiElement(FeakinTokenType.})('}')
                  PsiWhiteSpace('\n    ')
                  PsiElement(FeakinTokenType.})('}')
            PsiWhiteSpace('\n  ')
            PsiElement(FeakinTokenType.})('}')
        PsiWhiteSpace('\n')
        PsiElement(FeakinTokenType.})('}')